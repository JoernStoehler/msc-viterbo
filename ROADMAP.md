# Roadmap — MSc Viterbo (Dec 2025)

This roadmap is the in-repo source of truth for planning. GitHub issues mirror actionable chunks; update both when plans change.

## Horizon (next 4 months to thesis submission)
- Deliver a reproducible computational study of Viterbo’s conjecture on convex polytopes in \(\mathbb{R}^4\), with code, datasets, and thesis write-up shipped together.
- Primary outcomes: (a) validated capacity-computation pipeline; (b) catalog of counterexamples/confirmations; (c) complete thesis PDF/HTML; (d) supporting Rust/Python libraries.

## Workstreams and Status

### A. Thesis Write-up (LaTeX)
- [done] Core background chapters drafted: symplectic prelims, convex polytopes, Hamiltonian/Reeb dynamics, action/capacity, Clarke duality, HK/CH combinatorial formula. Placeholders remain for algorithm, experiments, counterexample, conjectures, appendices. <!-- source: packages/latex_viterbo/chapters/math/*.tex, chapters/algorithm.tex, experiments.tex, counterexample.tex -->
- [todo] Needs: fill algorithm chapter with the actual pipeline; add worked counterexample(s) with data; populate experiments chapter with results once available; finalize appendices. <!-- source: chapters/algorithm.tex placeholder; counterexample.tex placeholder -->
- [next] Next 1–2 weeks:
  - Write the algorithm chapter from the forthcoming spec (Workstream B).
  - Insert explicit HK&O 2024 counterexample data (normals/heights/velocities) and at least one non-Lagrangian example; hook figures/assets generated by Python. <!-- source: issue #8 requirements; counterexample.tex plan -->
  - Replace experiments placeholder with a scaffold (tables/fig slots) tied to asset paths.

### B. Capacity Algorithm (Rust core + FFI)
- [done] Toolchain scaffolding compiles/tests: `geom`, `algorithm`, `ffi` crates with placeholder functions; PyO3 binding builds. <!-- source: packages/rust_viterbo/* and `cargo test --workspace` run -->
- [todo] Needs: concrete implementation of HK/CH combinatorial optimizer (or chosen variant), validation against canonical polytopes, error bounds, and profiling. Expose via FFI for Python stages.
- [next] Next 1–2 weeks:
  - Owner to jot a concise algorithm spec (inputs/outputs, constraints, admissibility, stopping criteria, test polytopes). Agents implement Rust core + FFI per spec.
  - Add regression tests using canonical polytope data (HK&O, cube, product examples).

### C. Experiments & Assets (Python orchestration)
- [done] Pipeline skeleton: hello-world experiment, plotting helper, lint/tests passing. <!-- source: packages/python_viterbo/src/viterbo/*, tests/, `uv run pytest` -->
- [risk] Path bug: dummy plot targets a non-existent `packages/thesis/...`; fix to `packages/latex_viterbo/assets/...`. <!-- source: src/viterbo/dummy_plot.py `default_output_dir` -->
- [todo] Needs: experiment stages that (1) load facet datasets, (2) call Rust FFI to compute capacities, (3) emit JSON/PNG assets under `packages/latex_viterbo/assets/` for direct inclusion in the thesis.
- [next] Next 1–2 weeks:
  - Fix asset path and document the convention in AGENTS docs.
  - Implement “counterexample replay” stage and “sweep/search” stage; small test configs for fast CI.

### D. Tooling / DevOps / Coordination
- [done] Devcontainer, shared caches, GitHub Pages build for LaTeX, issue/PR templates, worktree scripts. <!-- source: .devcontainer/, scripts/, .github/workflows/gh-pages.yml, agent_docs/* -->
- [todo] Needs: standing CI for Rust/Python (lint+test) and a smoke pipeline that regenerates thesis assets; lightweight dashboard of open issues/milestones.
- [next] Next 1–2 weeks:
  - Add CI jobs: `cargo fmt/clippy/test` and `uv run pytest`; optional artifact upload of generated assets.
  - Open a small issue batch mapped from this roadmap for parallel agent work.

## Near-Term Milestones (owner-can-complete in ~5 hours)
1) Write the algorithm spec (B) and commit it under `packages/rust_viterbo/agent_docs/algorithm-spec.md`. <!-- unconfirmed until written -->
2) Draft the algorithm chapter in LaTeX using that spec; keep proofs/sketches concise. <!-- unconfirmed until written -->
3) Add canonical polytope datasets (HK&O counterexample + one non-Lagrangian example) under `packages/python_viterbo/data/`, with a short README. <!-- unconfirmed until added -->
4) Fix dummy plot path and add a minimal asset-generation smoke test. <!-- source: dummy_plot.py path bug -->
5) Open issues for: Rust optimizer implementation, FFI+Python wrapper, experiment stages, LaTeX counterexample write-up, CI extensions. <!-- unconfirmed until opened -->

## Risks / Dependencies
- Data accuracy (facet normals/heights/signs) — needs owner-verified source before agents proceed. <!-- source: issue #8 emphasis on sign conventions -->
- Algorithm choice (HK/CH vs. Minkowski billiard) must be fixed to avoid divergent implementations. <!-- unconfirmed decision -->
- Asset path conventions must be enforced early to keep LaTeX include paths stable. <!-- source: AGENTS docs note + path bug -->

## Conventions (for contributors)
- Coordinate order `(q1,q2,p1,p2)`; \(J(q_1,q_2,p_1,p_2)=(-p_1,-p_2,q_1,q_2)\); action \(A(\gamma)=\tfrac12\int \langle J\gamma,\dot\gamma\rangle dt\). <!-- source: math chapters 01/05/06/08 -->
- Assets live under `packages/latex_viterbo/assets/`; Python stages are expected to write JSON+PNG there. <!-- source: packages/latex_viterbo/AGENTS.md -->

---
Please keep this file updated when milestones shift; mirror actionable items into GitHub issues for agent pickup.
